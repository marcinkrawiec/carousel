/*! carousel - v0.11.2 - 2017-04-27
* Copyright (c) 2017 Authored by Marcin Krawiec */

$.browser={},+function(a){var b=function(b,c){var d={carouselDebug:!1,carouselNamespace:"carousel",allowLoop:!1,useSwipe:!1,snapPositions:!0,snapPositionsBy:1,fitNoItemsByContainer:1,calculateImgDimensions:!0,calculateItemDimensions:!1,calculateContainerOffset:!1,moveToCenter:!1,generateNavItems:!1,minHeight:0,getOtherElementsDimensions:function(){return 0},slideChanged:null,selectorContainer:".carousel__container",selectorContent:".carousel__content",selectorItem:".carousel-item",selectorWidthItem:".js-carousel-item-width",selectorWidthContainer:".js-carousel-container",selectorWidthSpecialContainer:"",selectorNavItemsContainer:".carousel-nav",selectorNavItems:".carousel-nav__item",onPositionChanged:!1},e=a(b);this.$container=a(b),this.options=a.extend({},d,c,e.data()),this.$containerInner=e.find(this.options.selectorContainer),this.$content=e.find(this.options.selectorContent),this.$items=e.find(this.options.selectorItem),this.$itemsA=this.$items.find("> a, img"),this.itemsMaxLeftPosition=0,this.itemsCurrentPxPosition=0,this.$navCheck=e.find("[data-slide-href-target]"),this.$navContainer=e.find(".carousel-nav__progress"),this.$nav=e.find(".carousel-nav__indicator"),this.$navItemsContainer=e.find(this.options.selectorNavItemsContainer),this.$navItems=e.find(this.options.selectorNavItems),this.$navNext=e.find(".carousel-nav__item-right"),this.$navPrev=e.find(".carousel-nav__item-left"),this.$navCurrentPage=e.find(".carousel-nav__current-page"),this.$navTotalPages=e.find(".carousel-nav__total-pages"),this.$navCurrentPage.text(1),this.$navTotalPages.text(Math.ceil(this.$items.size()/this.options.snapPositionsBy)),this.navMaxLeftPosition=0,this.navCurrentPxPosition=0,this.currentPosition=0,this.itemWidth=0,this.doRedraw=!0,this.hasChanged=!0,this.isPanActive=!1,this.isPanActiveLink=!0,this.panStartOffset=0,this.panLastOffset=0,this.panVelocity=0,this.isNavPanActive=!1,this.panNavStartOffset=0,this.panNavLastOffset=0,this.panNavVelocity=0,this.initialized=!1,this.autoslideTimeout=parseInt(this.$container.data("carousel-autointerval")||0),this.autoslideState=-1,this.autoslideTimer,this.debug=function(a){f.options.carouselDebug};var f=this;this.init=function(){this.initialized=!0,f.debug("init"),this.generateNavItems(),this.calculateDimensions(),this.bindEvents(),this.assignNavCheck(),a(window).on("resize."+f.options.carouselNamespace,a.throttle(2500,function(){setTimeout(function(){f.initialized&&f.calculateDimensions()},200)}))},this.generateNavItems=function(){f.options.generateNavItems&&(f.$navItemsContainer.each(function(){var b=a(this).find(f.options.selectorNavItems),c=b.size();if(1>c)return!0;if(f.$items.size()!=b.size())if(f.$items.size()>c)for(var d=f.$items.size()-c;d>0;d--){var e=b.eq(c-1).clone();b.eq(c-1).after(e)}else for(var d=c;d>f.$items.size();d--)b.eq(d-1).remove()}),f.$navItems=f.$container.find(f.options.selectorNavItems))},this.triggerEvent=function(b){var c=a.Event(b);c.carouselCurrentPosition=this.currentPosition,this.$container.trigger(c)},this.bindEvents=function(){var b={touchAction:"pan-y"};f.options.onPositionChanged!==!1&&f.$container.on("carouselPositionChanged."+f.options.carouselNamespace,function(a){f.options.onPositionChanged(a)}),f.$navContainer.hammer({}).on("click."+f.options.carouselNamespace,function(a){var b=a.offsetX-24;f.stopAnimation(),f.animateToNavOffset(b,500,f.easeOutSin)}),f.$navNext.hammer({}).on("tap."+f.options.carouselNamespace,function(b){return b.stopPropagation(),b.preventDefault(),a(this).hasClass("is-disabled")?!1:(f.stopAnimation(),f.moveNext(),!1)}),f.$navPrev.hammer({}).on("tap."+f.options.carouselNamespace,function(b){return b.stopPropagation(),b.preventDefault(),a(this).hasClass("is-disabled")?!1:(f.stopAnimation(),f.movePrev(),!1)}),f.$navItemsContainer.each(function(){a(this).find(f.$navItems).each(function(b){a(this).hammer({}).on("tap."+f.options.carouselNamespace,function(a){return f.stopAnimation(),f.moveToPosition(b*f.options.snapPositionsBy),a.stopPropagation(),!1})})}),f.$content.hammer(b),f.$items.find("a").on("click."+f.options.carouselNamespace,function(a){return f.isPanActive||f.animationTimerStart||!f.isPanActiveLink?(a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation(),!1):!0}),f.options.useSwipe?(f.$content.on("swipeleft."+f.options.carouselNamespace,function(a){f.moveNext(),clearTimeout(f.panReleaseTimeout),f.isPanActiveLink=!1,f.panReleaseTimeout=setTimeout(function(){f.isPanActiveLink=!0},500)}),f.$content.on("swiperight."+f.options.carouselNamespace,function(a){f.movePrev(),clearTimeout(f.panReleaseTimeout),f.isPanActiveLink=!1,f.panReleaseTimeout=setTimeout(function(){f.isPanActiveLink=!0},500)})):f.options.snapPositions?(f.debug("content in bind events"),f.debug(f.$content),f.$content.hammer(b).on("panstart."+f.options.carouselNamespace,function(a){return f.$content.trigger("stopAutoslide"),f.stopAnimation(),"undefined"!=typeof a.gesture,a.stopPropagation(),a.stopImmediatePropagation(),clearTimeout(f.panReleaseTimeout),f.isPanActiveLink=!1,f.isPanActive?!0:(f.panStartOffset=f.itemsCurrentPxPosition,f.debug("-------------"),f.debug(f.itemsCurrentPxPosition),f.debug(f.panStartOffset),f.debug("-------------"),f.isPanActive=!0,clearTimeout(f.panReleaseTimeout),void(f.isPanActiveLink=!1))}),f.debug(f.$content.data("hammer")),f.$content.on("panleft."+f.options.carouselNamespace+" panright."+f.options.carouselNamespace,function(a){return f.isPanActive?(f.$content.trigger("stopAutoslide"),f.stopAnimation(),"undefined"!=typeof a.gesture,a.stopPropagation(),a.stopImmediatePropagation(),f.isPanActive=!0,clearTimeout(f.panReleaseTimeout),f.isPanActiveLink=!1,f.panVelocity=a.gesture.velocityX,f.debug("------"),f.debug(f.panVelocity),f.debug(f.panStartOffset),f.debug(a.gesture.deltaX),void f.moveToOffset(f.panStartOffset-a.gesture.deltaX)):!1}),f.$content.on("panend."+f.options.carouselNamespace,function(a){if(f.stopAnimation(),f.$content.trigger("startAutoslide"),f.isPanActiveLink=!0,!f.isPanActive)return!0;if("undefined"!=typeof a.gesture,a.stopPropagation(),a.stopImmediatePropagation(),f.debug(Math.abs(f.panVelocity)),0!==f.panVelocity){var b=Math.abs(a.gesture.deltaX)/f.itemWidth;f.debug("moved: "+b),f.debug(f.panVelocity),Math.abs(f.panVelocity)<.5&&.333>b?f.moveToCurrent():f.panVelocity<0?(f.debug("velocity < 0 so moveNext"),f.moveNext()):(f.debug("velocity > 0 so movePrev"),f.movePrev()),clearTimeout(f.panReleaseTimeout)}else f.moveToCurrent(),clearTimeout(f.panReleaseTimeout);return f.isPanActive=!1,!1})):(f.$content.hammer(b).on("panstart."+f.options.carouselNamespace,function(a){return f.stopAnimation(),"undefined"!=typeof a.gesture&&a.gesture.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation(),clearTimeout(f.panReleaseTimeout),f.isPanActiveLink=!1,f.isPanActive?!0:(f.panStartOffset=f.itemsCurrentPxPosition,f.isPanActive=!0,clearTimeout(f.panReleaseTimeout),void(f.isPanActiveLink=!1))}),f.$content.on("pan."+f.options.carouselNamespace,function(a){f.$content.trigger("stopAutoslide"),f.stopAnimation(),"undefined"!=typeof a.gesture&&a.gesture.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation(),f.isPanActive=!0,clearTimeout(f.panReleaseTimeout),f.isPanActiveLink=!1,f.panVelocity=a.gesture.velocityX,f.moveToOffset(f.panStartOffset-a.gesture.deltaX)}),f.$content.on("panend."+f.options.carouselNamespace,function(a){if(f.stopAnimation(),f.isPanActiveLink=!0,!f.isPanActive)return f.$content.trigger("startAutoslide"),!0;if("undefined"!=typeof a.gesture&&a.gesture.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation(),0!==f.panVelocity){f.panVelocity=.5*f.panVelocity;var b=1e3*Math.abs(f.panVelocity);f.panVelocity=1e3*f.panVelocity,f.animateToOffset(f.itemsCurrentPxPosition+f.panVelocity,b,f.easeOutQuad),f.panVelocity=0,clearTimeout(f.panReleaseTimeout),f.panReleaseTimeout=setTimeout(function(){f.isPanActiveLink=!0,f.$content.trigger("startAutoslide")},500+b)}else clearTimeout(f.panReleaseTimeout),f.panReleaseTimeout=setTimeout(function(){f.isPanActiveLink=!0,f.$content.trigger("startAutoslide")},500);return f.isPanActive=!1,!1}),f.$nav.hammer(b),f.$nav.on("panstart."+f.options.carouselNamespace,function(a){return f.$content.trigger("stopAutoslide"),f.stopAnimation(),"undefined"!=typeof a.gesture&&a.gesture.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation(),f.isNavPanActive?!0:(f.panNavStartOffset=f.navCurrentPxPosition,void(f.isNavPanActive=!0))}),f.$nav.on("pan."+f.options.carouselNamespace,function(a){a.gesture.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation(),f.panNavVelocity=a.gesture.velocityX,f.moveToNavOffset(f.panNavStartOffset+a.gesture.deltaX),f.calculateCurrentPosition()}),f.$nav.on("panend."+f.options.carouselNamespace,function(a){if(f.$content.trigger("startAutoslide"),!f.isNavPanActive)return!0;if(f.isNavPanActive=!1,0!==f.panNavVelocity){var b=2e3*Math.abs(f.panNavVelocity);500>b&&(b=500),f.animateToOffset(f.itemsCurrentPxPosition+f.panNavVelocity*b,b,f.easeOutQuad),f.panNavVelocity=0}a.gesture.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation(),f.calculateCurrentPosition()})),f.$container.on("mouseenter."+f.options.carouselNamespace,function(){return f.$content.trigger("stopAutoslide"),!0}),f.$container.on("mouseleave."+f.options.carouselNamespace,function(){return f.$content.trigger("startAutoslide"),!0}),f.$content.on("startAutoslide."+f.options.carouselNamespace,function(){if(!f.autoslideTimeout)return!0;clearInterval(f.autoslideTimer);var a=1e3*f.autoslideTimeout;return-1==f.autoslideState&&setTimeout(function(){f.$content.trigger("startAutoslide"),f.autoslideState=1},2e3),f.autoslideTimer=setInterval(function(){f.moveNext()},a),!0}),f.$content.on("stopAutoslide."+f.options.carouselNamespace,function(){return clearInterval(f.autoslideTimer),!0}),f.autoslideTimeout>0&&f.$content.trigger("startAutoslide."+f.options.carouselNamespace)},this.destroy=function(){var a=this;a.initialized=!1,a.unbindEvents(),a.decalculateDimensions();var b=a.$container.data("mk.mkCarousel");a.$container.data("mk.mkCarousel",!1),b=null},this.unbindEvents=function(){var b=this;b.$content.trigger("stopAutoslide."+b.options.carouselNamespace),"undefined"!=typeof b.$content.data("hammer")&&b.$content.data("hammer")&&(b.$content.data("hammer").destroy(),b.$content.data("hammer",!1)),b.$navContainer.off("."+b.options.carouselNamespace),b.$navNext.off("."+b.options.carouselNamespace),b.$navPrev.off("."+b.options.carouselNamespace),b.$navItems.off("."+b.options.carouselNamespace),b.$content.off("."+b.options.carouselNamespace),b.$items.find("a").off("."+b.options.carouselNamespace),b.$nav.off("."+b.options.carouselNamespace),b.$container.off("."+b.options.carouselNamespace),b.$content.off("."+b.options.carouselNamespace),a(document).off("."+b.options.carouselNamespace),a(window).off("."+b.options.carouselNamespace)},this.calculateImgDimensions=function(){f.debug("calc img dimensions")},this.calculateItemDimensions=function(){var b=f.$items.filter(f.options.selectorWidthItem);if(this.debug("items - dimensions:"),this.debug(b),this.debug(b.size()),b.size()<1)return!0;var c=b.parents(f.options.selectorWidthContainer).width();this.debug(c),b.attr("style","");var d=f.$container.find(f.options.selectorWidthSpecialContainer);d.width("");b.eq(0).width(),b.eq(0).outerWidth();return f.itemWidth=Math.floor(c/f.options.fitNoItemsByContainer),b.width(f.itemWidth),d.size()<1?!0:void d.each(function(){a(this).width(c*a(this).find(">*").size())})},this.decalculateItemDimensions=function(){var a=f.$items.filter(f.options.selectorWidthItem);if(a.size()<1)return!0;a.attr("style","");var b=f.$container.find(f.options.selectorWidthSpecialContainer);return b.size()<1?!0:void b.attr("style","")},this.calculateNavLimits=function(){f.navMaxLeftPosition=f.$navContainer.width()-f.$nav.width()},this.calculateDimensions=function(){f.debug("calculateDimensions");var b=0;this.debug("items:"),this.debug(this.$items),f.$content.attr("style",""),f.$items.attr("style",""),f.doRedraw=!0,f.hasChanged=!0,f.itemsCurrentPxPosition=0,f.navCurrentPxPosition=0;var c=this.$containerInner.width(),d=c/2;f.options.calculateImgDimensions&&f.calculateImgDimensions(),f.options.calculateItemDimensions&&f.calculateItemDimensions(),f.calculateNavLimits();var e=0,g=0,h=0;f.$items.each(function(c){f.options.moveToCenter?(e=d,g=a(this).outerWidth(),h=a(this).width(),e=d-g/2,f.options.calculateContainerOffset&&(e+=(g-h)/2)):(g=a(this).outerWidth(),e=0),a(this).data("carousel-offset",b-e),a(this).data("carousel-item",c),b+=g}),f.debug(b),f.$content.width(b),f.itemsMaxLeftPosition=f.$content.width()-f.$items.eq(0).width()*f.options.fitNoItemsByContainer,f.debug("calc max left:"),f.debug(f.itemsMaxLeftPosition),f.currentPosition=0,f.options.moveToCenter&&(f.currentPosition=Math.floor(f.$items.size()/2)),f.moveToCurrentImmediate(),f.$container.css("opacity",.99),setTimeout(function(){f.$container.css("opacity",1)},10),setTimeout(function(){f.$container.css("opacity",.99)},100),setTimeout(function(){f.$container.css("opacity",1)},1e3),f.debug("calculateDimensions: end")},this.decalculateDimensions=function(){f.debug("decalculateDimensions"),f.$content.attr("style",""),f.decalculateItemDimensions()},Modernizr.csstransforms3d?this.moveElementTo=function(a,b){a.css("-webkit-transform","translate3d("+b+"px, 0px, 0px)"),a.css("-moz-transform","translate3d("+b+"px, 0px, 0px)"),a.css("transform","translate3d("+b+"px, 0px, 0px)")}:Modernizr.csstransforms?this.moveElementTo=function(a,b){a.css("-webkit-transform","translateX("+b+"px)"),a.css("-moz-transform","translateX("+b+"px)"),a.css("transform","translateX("+b+"px)")}:this.moveElementTo=function(a,b){a.css({left:""+b+"px"})},this.calculateCurrentPosition=function(){f.$items.each(function(){a(this).data("carousel-offset")<f.itemsCurrentPxPosition&&(f.currentPosition=a(this).data("carousel-item"))})},this.moveContentToOffset=function(a){f.itemsCurrentPxPosition!=a&&(f.doRedraw=!0,f.hasChanged=!0),f.itemsCurrentPxPosition=a},this.moveContentByOffset=function(b){f.itemsCurrentPxPosition+=b,f.$items.each(function(){a(this).data("carousel-offset")>f.itemsCurrentPxPosition&&(f.currentPosition=a(this).data("carousel-item"))})},this.moveNavToOffset=function(a){f.navCurrentPxPosition!=a&&(f.doRedraw=!0,f.hasChanged=!0),f.navCurrentPxPosition=a},this.moveNavToContentOffset=function(){var a=f.itemsCurrentPxPosition/f.itemsMaxLeftPosition;this.moveNavToOffset(a*f.navMaxLeftPosition)},this.moveContentToNavOffset=function(){var a=f.navCurrentPxPosition/f.navMaxLeftPosition;this.moveContentToOffset(a*f.itemsMaxLeftPosition)},this.moveToOffset=function(a){f.moveContentToOffset(a),f.moveNavToContentOffset(),f.requestRedraw()},this.moveByOffset=function(a){f.moveContentByOffset(a),f.moveNavToContentOffset(),f.requestRedraw()},this.moveToNavOffset=function(a){f.moveNavToOffset(a),f.moveContentToNavOffset(),f.requestRedraw()},f.easeLinear=function(a,b){return a/b},f.easeInSin=function(a,b){return 1-Math.cos(a/b*(Math.PI/2))},f.easeOutSin=function(a,b){return Math.sin(a/b*(Math.PI/2))},f.easeInQuad=function(a,b){return a*a/(b*b)},f.easeOutQuad=function(a,b){return 1-(b-a)*(b-a)/(b*b)},this.animateToOffset=function(a,b,c){function d(a){var d=a-f.animationTimerStart;if(d>=b)return f.showDebug=!1,f.stopAnimation(),f.moveToOffset(g),f.onAnimationEnd(),!0;var h=g-e,i=e+Math.round(h*c(d,b));f.moveToOffset(i)}this.stopAnimation(),c||(c=f.easeLinear);var e=this.itemsCurrentPxPosition,g=a,h=0;if(f.debug("animate to offset"),f.debug(g),f.debug(f.itemsMaxLeftPosition),0>g&&(h=e-g,g=0,b=b*e/h),g>f.itemsMaxLeftPosition){h=g-e,g=f.itemsMaxLeftPosition;var i=g-e;b=b*i/h}f.startAnimation(d)},this.animateToNavOffset=function(a,b,c){var d=a/f.navMaxLeftPosition;this.animateToOffset(d*f.itemsMaxLeftPosition,b,c)},f.showDebug=!1,this.requestRedraw=function(){f.hasChanged&&(f.animationTimerStart||requestAnimationFrame(f.drawChanges),f.hasChanged=!1)},this.startAnimation=function(a){f.debug("start animation"),f.animationTimerStart=0;var b=function(c){return cancelAnimationFrame(f.animationRepeater),f.animationTimerStart?(a(c),f.drawChanges(),void(f.animationTimerStart&&(f.animationRepeater=requestAnimationFrame(b)))):(f.animationTimerStart=c,f.animationRepeater=requestAnimationFrame(b),!0)};f.animationRepeater=requestAnimationFrame(b)},this.stopAnimation=function(){cancelAnimationFrame(f.animationRepeater),f.animationRepeater=!1,f.animationTimerStart=0},this.onAnimationEnd=function(){this.assignNavCheck()},this.assignNavCheck=function(){if(this.$navCheck.size()){var a=this.$items.eq(this.currentPosition).data("slide-href");this.$navCheck.attr("href",a)}},this.drawChanges=function(){return f.doRedraw?(f.moveElementTo(f.$content,-f.itemsCurrentPxPosition),f.moveElementTo(f.$nav,f.navCurrentPxPosition),f.doRedraw=!1,!0):!0},this.getPositionOffset=function(a){return f.$items.eq(a).data("carousel-offset")},this.moveNext=function(){f.options.snapPositionsBy>1?f.currentPosition+f.options.snapPositionsBy>=f.$items.size()?f.currentPosition+1>=f.$items.size()||f.currentPosition+f.options.snapPositionsBy+1>=f.$items.size()?f.options.allowLoop&&(f.currentPosition=0):f.currentPosition=f.$items.size()-1:f.currentPosition+=f.options.snapPositionsBy:(f.currentPosition++,f.currentPosition>=f.$items.size()&&(f.options.allowLoop?f.currentPosition=0:f.currentPosition--)),this.navSelect();var a=f.getPositionOffset(f.currentPosition);f.debug(f.currentPosition),f.debug(a),f.animateToOffset(a,500,f.easeOutQuad)},this.movePrev=function(){f.options.snapPositionsBy>1?f.currentPosition-f.options.snapPositionsBy<0?f.options.allowLoop?f.currentPosition=f.$items.size()-f.options.snapPositionsBy:f.currentPosition=0:f.currentPosition%f.options.snapPositionsBy===0?f.currentPosition-=f.options.snapPositionsBy:f.currentPosition-=f.currentPosition%f.options.snapPositionsBy:(f.currentPosition--,f.currentPosition<0&&(f.options.allowLoop?f.currentPosition=f.$items.size()-1:f.currentPosition=0)),this.navSelect();var a=f.getPositionOffset(f.currentPosition);f.animateToOffset(a,500,f.easeOutQuad)},this.moveToPosition=function(a){f.currentPosition=a,f.currentPosition<0?f.currentPosition=f.$items.size()-1:f.currentPosition>=f.$items.size()&&(f.currentPosition=0),this.navSelect();var b=f.getPositionOffset(f.currentPosition);f.animateToOffset(b,500,f.easeOutQuad)},this.moveToCurrent=function(){this.navSelect();var a=f.getPositionOffset(f.currentPosition);f.animateToOffset(a,500,f.easeOutQuad)},this.moveToCurrentImmediate=function(){this.navSelect(),f.debug("moveToCurrentImmediate");var a=f.getPositionOffset(f.currentPosition);f.debug("moveToCurrentImmediate: "+a),f.moveToOffset(a),f.debug("moveToCurrentImmediate: end")},this.navSelect=function(){return f.$navItemsContainer.each(function(){var b=f.currentPosition/f.options.snapPositionsBy;a(this).find(f.$navItems).removeClass("is-active").eq(b).addClass("is-active")}),this.$navCurrentPage.text(Math.ceil((f.currentPosition+1)/f.options.snapPositionsBy)),f.$navPrev.removeClass("is-disabled"),f.$navNext.removeClass("is-disabled"),f.options.allowLoop||(0===f.currentPosition&&f.$navPrev.addClass("is-disabled"),f.options.snapPositionsBy>1?f.currentPosition+f.options.snapPositionsBy>=f.$items.size()&&(f.currentPosition+1>=f.$items.size()||f.currentPosition+f.options.snapPositionsBy+1>=f.$items.size())&&f.$navNext.addClass("is-disabled"):f.currentPosition+1>=f.$items.size()&&f.$navNext.addClass("is-disabled")),this.triggerEvent("carouselPositionChanged"),!0},this.getCurrentElement=function(){return this.$items.eq(this.currentPosition)},this.init()};a.fn.mkCarousel=function(c,d){return this.each(function(){var e=a(this),f=e.data("mk.mkCarousel"),g=a.extend({},b.Defaults,e.data(),"object"==typeof c&&c);f||e.data("mk.mkCarousel",f=new b(this,g)),"string"==typeof c&&(f[c](d),"destroy"==c&&e.data("mk.mkCarousel",void 0))})}}(jQuery);
//# sourceMappingURL=carousel.min.js.map